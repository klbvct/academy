# üéØ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–æ—Ñ–æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ–π–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üìã –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–í–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —É –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ —Å–≤–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–º–∫—É —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –±–∞–≥–∞—Ç–æ–º–æ–¥—É–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤, AI-—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–∞ –ø–ª–∞—Ç—ñ–∂–Ω—É —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
- ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –≤—Ö—ñ–¥, —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
- ‚úÖ –û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é —Ç–µ—Å—Ç—ñ–≤
- ‚úÖ –ë–∞–≥–∞—Ç–æ–º–æ–¥—É–ª—å–Ω–µ –ø—Ä–æ—Ñ–æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ–π–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ AI-—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (Google Gemini)
- ‚úÖ –ü–µ—Ä–µ–≥–ª—è–¥ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∑–≤—ñ—Ç—É –∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏
- ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É PDF
- ‚úÖ –û–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø—É —á–µ—Ä–µ–∑ LiqPay

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤:
- ‚úÖ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- ‚úÖ –ü–µ—Ä–µ–≥–ª—è–¥ –ø–ª–∞—Ç–µ–∂—ñ–≤ —Ç–∞ —Å—Ç–∞—Ç—É—Å—ñ–≤ –¥–æ—Å—Ç—É–ø—É
- ‚úÖ –ü–µ—Ä–µ–≥–ª—è–¥ —Ç–µ—Å—Ç-—Ä–µ–ø–æ—Ä—Ç—ñ–≤ –±—É–¥—å-—è–∫–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –°–∫–∏–¥–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–µ—Å—Ç—ñ–≤

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ Frontend (Next.js 14 App Router)
‚îÇ   ‚îú‚îÄ‚îÄ –õ–µ–Ω–¥—ñ–Ω–≥, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è/–≤—Ö—ñ–¥, –∫–∞–±—ñ–Ω–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ –ü—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ (app/tests/[id]/)
‚îÇ   ‚îú‚îÄ‚îÄ –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π
‚îÇ   ‚îî‚îÄ‚îÄ –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (app/admin/)
‚îÇ
‚îú‚îÄ‚îÄ Backend (Next.js API Routes)
‚îÇ   ‚îú‚îÄ‚îÄ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (JWT + bcryptjs)
‚îÇ   ‚îú‚îÄ‚îÄ –¢–µ—Å—Ç–∏: –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –ø—Ä–æ–≥—Ä–µ—Å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó (Google Gemini)
‚îÇ   ‚îú‚îÄ‚îÄ –ü–ª–∞—Ç–µ–∂—ñ (LiqPay callback/checkout)
‚îÇ   ‚îî‚îÄ‚îÄ –ê–¥–º—ñ–Ω-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ Database (Prisma ORM)
    ‚îú‚îÄ‚îÄ SQLite ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞
    ‚îî‚îÄ‚îÄ PostgreSQL ‚Äî production
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

| –®–∞—Ä | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó |
|-----|-----------|
| Frontend | Next.js 14, React 18, TypeScript, Tailwind CSS |
| Backend | Next.js API Routes |
| ORM / –ë–î | Prisma 5, SQLite (dev) / PostgreSQL (prod) |
| Auth | JWT (`jsonwebtoken`), bcryptjs |
| AI | Google Gemini (`@google/generative-ai`) |
| –ü–ª–∞—Ç–µ–∂—ñ | LiqPay |
| Email | Nodemailer |
| PDF | html2canvas + jsPDF |
| –£—Ç–∏–ª—ñ—Ç–∏ | axios, crypto-js |

---

## üìä –°—Ö–µ–º–∞ –¥–∞–Ω–∏—Ö (Prisma)

### User
```
id, fullName, email, password (hashed), phone, birthDate,
role ("user" | "admin"), isActive, resetToken, createdAt, updatedAt
```

### Test
```
id, title, description, category, price, duration, questionsCount, createdAt
```

### Question
```
id, testId, text, questionOrder, createdAt
```

### Payment
```
id, userId, testId, orderId, amount, currency,
type ("access" | "results"), status ("pending" | "success" | "failed"),
liqpayTransactionId, createdAt, completedAt, expiresAt
```

### TestAccess
```
id, userId, testId, paymentId, hasAccess, accessGrantedAt, accessExpiresAt
```

### TestResult
```
id, userId, testId,
data (JSON ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ –º–æ–¥—É–ª—è—Ö),
scores (JSON ‚Äî –±–∞–ª–∏),
recommendations (JSON ‚Äî AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó),
completedAt
```

---

## üìù API Endpoints

### Auth
```
POST   /api/auth/register              ‚Äî –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
POST   /api/auth/login                 ‚Äî –í—Ö—ñ–¥
GET    /api/auth/me                    ‚Äî –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
POST   /api/auth/forgot-password       ‚Äî –ó–∞–ø–∏—Ç —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
POST   /api/auth/reset-password        ‚Äî –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
```

### –¢–µ—Å—Ç–∏
```
GET    /api/tests/modules              ‚Äî –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª—ñ–≤ —Ç–µ—Å—Ç—É
POST   /api/tests/answers              ‚Äî –ó–±–µ—Ä–µ–≥—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
GET    /api/tests/[id]/progress        ‚Äî –ü—Ä–æ–≥—Ä–µ—Å –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è
POST   /api/tests/[id]/complete        ‚Äî –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ç–µ—Å—Ç
GET    /api/tests/[id]/results         ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É
POST   /api/tests/[id]/generate-recommendations ‚Äî AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
```

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
```
GET    /api/user/tests                 ‚Äî –¢–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

### –ü–ª–∞—Ç–µ–∂—ñ (LiqPay)
```
POST   /api/liqpay/checkout            ‚Äî –û–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ç–µ—Å—Ç—É
POST   /api/liqpay/checkout-results    ‚Äî –û–ø–ª–∞—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
POST   /api/liqpay/callback            ‚Äî Webhook –≤—ñ–¥ LiqPay
```

### –ê–¥–º—ñ–Ω
```
GET    /api/admin/users                ‚Äî –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
GET    /api/admin/users/[id]           ‚Äî –î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
GET    /api/admin/users/[id]/payments  ‚Äî –ü–ª–∞—Ç–µ–∂—ñ —Ç–∞ –¥–æ—Å—Ç—É–ø–∏
GET    /api/admin/users/[id]/test-results         ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤
GET    /api/admin/users/[id]/test-report/[testId] ‚Äî –ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç-—Ä–µ–ø–æ—Ä—Ç
POST   /api/admin/users/[id]/reset-test           ‚Äî –°–∫–∏–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
```

---

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ (bcryptjs)
- ‚úÖ JWT —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- ‚úÖ –ê–¥–º—ñ–Ω-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —Ä–æ–ª—ñ
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

---

## üì± UX Flow

```
–í—ñ–¥–≤—ñ–¥—É–≤–∞—á ‚Üí –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
    ‚Üì
–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è / –í—Ö—ñ–¥
    ‚Üì
–û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç ‚Üí –í–∏–±—ñ—Ä —Ç–µ—Å—Ç—É ‚Üí –û–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø—É (LiqPay)
    ‚Üì
–ü—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É (–±–∞–≥–∞—Ç–æ–º–æ–¥—É–ª—å–Ω–∏–π)
    ‚Üì
–û–ø–ª–∞—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ ‚Üí AI-–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π (Gemini)
    ‚Üì
–î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç + –ï–∫—Å–ø–æ—Ä—Ç PDF
```

---

## üß∞ –ö–æ—Ä–∏—Å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó

–°–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ `scripts/`. –ú—ñ–≥—Ä–∞—Ü—ñ—ó ‚Äî –≤ `prisma/migrations` (–∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó).

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (—Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
npx prisma migrate dev --name init

# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
npx prisma migrate deploy

# Seed
npm run prisma:seed
```

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ ‚Äî —É [SETUP.md](SETUP.md).

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É:** üöÄ MVP –≥–æ—Ç–æ–≤–∏–π, —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∞–∫—Ç–∏–≤–Ω–æ —Ä–æ–∑–≤–∏–≤–∞—î—Ç—å—Å—è  
**–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É:** –õ—é—Ç–∏–π 2026
